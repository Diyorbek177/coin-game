<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Coin Tap Game</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<link rel="stylesheet" href="style.css?v=10">
</head>

<body>

<h2>ðŸª™ Coin Tap Game</h2>

<div class="menu">
<button onclick="openTab('earn')">Earn</button>
<button onclick="openTab('upgrade')">Upgrade</button>
<button onclick="openTab('friends')">Friends</button>
<button onclick="openTab('profile')">Profile</button>
</div>

<div id="earn" class="tab">
<h3>Tap to Earn</h3>
<h1 id="coins">0</h1>
<button onclick="tap()">TAP</button>
</div>

<div id="upgrade" class="tab">
<h3>Upgrade</h3>
<p>Tap Power: <span id="powerDisplay">1</span></p>
<button onclick="buyPower()">+1 Power â€” Cost: <span id="powerCost">50</span></button>
</div>

<div id="friends" class="tab">
<h3>Friends</h3>
<p>Your referral code:</p>
<input type="text" id="refCode" readonly>
</div>

<div id="profile" class="tab">
<h3>Profile</h3>

<p>Name: <span id="tgName">...</span></p>
<p>Telegram ID: <span id="tgId">...</span></p>

<p>Total coins ever earned: <span id="total">0</span></p>
</div>

<script src="app.js"></script>
  <script>
openTab('earn');

// Zoom block
document.addEventListener('gesturestart', e => e.preventDefault());
document.addEventListener('gesturechange', e => e.preventDefault());
document.addEventListener('gestureend', e => e.preventDefault());

let lastTouchEnd = 0;
document.addEventListener('touchend', function (event) {
  let now = (new Date()).getTime();
  if (now - lastTouchEnd <= 300) {
    event.preventDefault();
  }
  lastTouchEnd = now;
}, false);
  </script>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

<script>
const tg = window.Telegram.WebApp;
tg.ready();
tg.expand();

const user = tg.initDataUnsafe.user;

if (user) {
  document.getElementById("tgName").innerText =
    (user.first_name || "") + " " + (user.last_name || "");

  document.getElementById("tgId").innerText = user.id;
}
</script>
</body>
</html>
